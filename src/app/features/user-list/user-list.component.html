
<!--  Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« -->
<div class="search-bar">
  <mat-form-field appearance="outline">
    <mat-icon matPrefix>search</mat-icon>
    <input matInput
      placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³ØªØ®Ø¯Ù…..."
      [(ngModel)]="searchTerm"
      (ngModelChange)="applyFilter()" 
    />
  </mat-form-field>
</div>

<!--  Ø§Ù„Ù„ÙˆØ¯Ø± -->
<div *ngIf="loading$ | async" class="loading-container">
  <app-loader></app-loader>
</div>

<!--  Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ -->
<p *ngIf="error$ | async as error" class="error-message">
  âš ï¸ {{ error }}
</p>

<!-- Ø§Ù„Ø´Ø¨ÙƒØ© -->
<div class="user-grid">
  <mat-card 
    *ngFor="let user of filteredUsers$ | async"
    class="user-card"
    (click)="openUserDetails(user.id)"
  >
    <mat-card-header class="card-header">
      <img 
        mat-card-avatar 
        [src]="user.avatar" 
        alt="User Avatar"
        class="avatar"
      >
      <div class="card-title-section">
        <mat-card-title>
          {{ user.first_name }} {{ user.last_name }}
        </mat-card-title>
        <mat-card-subtitle>
          {{ user.email }}
        </mat-card-subtitle>
      </div>
    </mat-card-header>

    <mat-card-content>
      <p>
        <mat-icon color="primary">email</mat-icon>
        {{ user.email }}
      </p>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-stroked-button color="primary">
        ğŸ” Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
      </button>
    </mat-card-actions>
  </mat-card>
</div>

<!-- âœ… Ø§Ù„Ø¨Ø§Ø¬ÙŠÙ†Ø§ÙŠØ´Ù† -->
<mat-paginator
  [length]="totalUsers"
  [pageSize]="pageSize"
  [pageIndex]="pageIndex"
  (page)="onPageChange($event)"
  aria-label="Pagination"
></mat-paginator>

<!-- âœ… Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
<!-- <app-user-details *ngIf="selectedUser$ | async"></app-user-details> -->
